from bottle import route, run
from bottle import static_file
from bottle import template
import scrape

@route('/')
def hello():
    # return static_file("CodeMirror.htm", root = "./")
    # stri = r'''{"name":"ImageNet 2011 Fall Release","size":"32326","children":[{"name":"plant, flora, plant life","size":"4486","children":[{"name":"holophyte","size":"0","children":[]},{"name":"wilding","size":"141","children":[{"name":"wildflower, wild flower","size":"140","children":[{"name":"golden aster","size":"3","children":[{"name":"sickleweed golden aster","size":"0","children":[]},{"name":"grass-leaved golden aster","size":"0","children":[]},{"name":"Maryland golden aster, Chrysopsis mariana","size":"0","children":[]}]},{"name":"heliopsis, oxeye","size":"0","children":[]},{"name":"Arnica montana","size":"0","children":[]},{"name":"desert sunflower, Gerea canescens","size":"0","children":[]},{"name":"bitterroot, Lewisia rediviva","size":"0","children":[]},{"name":"hawk's-beard, hawk's-beards","size":"0","children":[]},{"name":"heartleaf arnica, Arnica cordifolia","size":"0","children":[]},{"name":"edelweiss, Leontopodium alpinum","size":"0","children":[]},{"name":"red maids, redmaids, Calandrinia ciliata","size":"0","children":[]},{"name":"meadow rue","size":"0","children":[]},{"name":"common madia, common tarweed, Madia elegans","size":"0","children":[]},{"name":"dwarf hulsea, Hulsea nana","size":"0","children":[]},{"name":"hairy golden aster, prairie golden aster, Heterotheca villosa, Chrysopsis villosa","size":"0","children":[]},{"name":"sticky aster, Machaeranthera bigelovii","size":"0","children":[]},{"name":"woolly sunflower","size":"1","children":[{"name":"golden yarrow, Eriophyllum lanatum","size":"0","children":[]}]},{"name":"blackfoot daisy, Melampodium leucanthum","size":"0","children":[]},{"name":"goldfields, Lasthenia chrysostoma","size":"0","children":[]},{"name":"north island edelweiss, Leucogenes leontopodium","size":"0","children":[]},{"name":"sand verbena","size":"6","children":[{"name":"desert sand verbena, Abronia villosa","size":"0","children":[]},{"name":"yellow sand verbena, Abronia latifolia","size":"0","children":[]},{"name":"snowball, sweet sand verbena, Abronia elliptica","size":"0","children":[]},{"name":"sweet sand verbena, Abronia fragrans","size":"0","children":[]},{"name":"beach pancake, Abronia maritima","size":"0","children":[]},{"name":"beach sand verbena, pink sand verbena, Abronia umbellata","size":"0","children":[]}]},{"name":"false chamomile","size":"0","children":[]},{"name":"blazing star, button snakeroot, gayfeather, gay-feather, snakeroot","size":"2","children":[{"name":"dotted gayfeather, Liatris punctata","size":"0","children":[]},{"name":"dense blazing star, Liatris pycnostachya","size":"0","children":[]}]},{"name":"woolly daisy, dwarf daisy, Antheropeas wallacei, Eriophyllum wallacei","size":"0","children":[]},{"name":"hawkbit","size":"1","children":[{"name":"fall dandelion, arnica bud, Leontodon autumnalis","size":"0","children":[]}]},{"name":"trailing four o'clock, trailing windmills, Allionia incarnata","size":"0","children":[]},{"name":"sunray, Enceliopsis nudicaulis","size":"0","children":[]},{"name":"coneflower","size":"3","children":[{"name":"Mexican hat, Ratibida columnaris","size":"0","children":[]},{"name":"long-head coneflower, prairie coneflower, Ratibida columnifera","size":"0","children":[]}]},{"name":"Mojave aster, Machaeranthera tortifoloia","size":"0","children":[]},{"name":"fleabane","size":"8","children":[{"name":"blue fleabane, Erigeron acer","size":"0","children":[]},{"name":"seaside daisy, beach aster, Erigeron glaucous","size":"0","children":[]},{"name":"Philadelphia fleabane, Erigeron philadelphicus","size":"0","children":[]},{"name":"spreading fleabane, Erigeron divergens","size":"0","children":[]},{"name":"showy daisy, Erigeron speciosus","size":"0","children":[]},{"name":"orange daisy, orange fleabane, Erigeron aurantiacus","size":"0","children":[]},{"name":"daisy fleabane, Erigeron annuus","size":"0","children":[]},{"name":"robin's plantain, Erigeron pulchellus","size":"0","children":[]}]},{"name":"gaillardia","size":"1","children":[{"name":"blanket flower, Indian blanket, fire wheel, fire-wheel, Gaillardia pulchella","size":"0","children":[]}]},{"name":"pussy-paw, pussy-paws, pussy's-paw, Spraguea umbellatum, Calyptridium umbellatum","size":"0","children":[]},{"name":"brittlebush, brittle bush, incienso, Encelia farinosa","size":"0","children":[]},{"name":"sagebrush buttercup, Ranunculus glaberrimus","size":"0","children":[]},{"name":"oxeye","size":"1","children":[{"name":"woodland oxeye, Buphthalmum salicifolium","size":"0","children":[]}]},{"name":"flame flower, flame-flower, flameflower, Talinum aurantiacum","size":"5","children":[{"name":"narrow-leaved flame flower, Talinum augustissimum","size":"0","children":[]},{"name":"rock pink, Talinum calycinum","size":"0","children":[]},{"name":"pigmy talinum, Talinum brevifolium","size":"0","children":[]},{"name":"jewels-of-opar, Talinum paniculatum","size":"0","children":[]},{"name":"spiny talinum, Talinum spinescens","size":"0","children":[]}]},{"name":"goldenbush","size":"2","children":[{"name":"camphor daisy, Haplopappus phyllocephalus","size":"0","children":[]},{"name":"yellow spiny daisy, Haplopappus spinulosus","size":"0","children":[]}]},{"name":"alpine gold, alpine hulsea, Hulsea algida","size":"0","children":[]},{"name":"engelmannia","size":"0","children":[]},{"name":"pasqueflower, pasque flower","size":"3","children":[{"name":"Western pasqueflower, Pulsatilla occidentalis, Anemone occidentalis","size":"0","children":[]},{"name":"European pasqueflower, Pulsatilla vulgaris, Anemone pulsatilla","size":"0","children":[]},{"name":"American pasqueflower, Eastern pasque flower, wild crocus, lion's beard, prairie anemone, blue tulip, American pulsatilla, Pulsatilla patens, Anemone ludoviciana","size":"0","children":[]}]},{"name":"siskiyou lewisia, Lewisia cotyledon","size":"0","children":[]},{"name":"tahoka daisy, tansy leaf aster, Machaeranthera tanacetifolia","size":"0","children":[]}]}]},{"name":"phytoplankton","size":"2","children":[{"name":"diatom","size":"0","children":[]},{"name":"planktonic algae","size":"0","children":[]}]},{"name":"crop","size":"9","children":[{"name":"cash crop","size":"0","children":[]},{"name":"cover crop","size":"0","children":[]},{"name":"field crop","size":"4","children":[{"name":"field corn","size":"3","children":[{"name":"flint corn, flint maize, Yankee corn, Zea mays indurata","size":"0","children":[]},{"name":"dent corn, Zea mays indentata","size":"0","children":[]},{"name":"soft corn, flour corn, squaw corn, Zea mays amylacea","size":"0","children":[]}]}]},{"name":"root crop","size":"0","children":[]},{"name":"catch crop","size":"0","children":[]}]},{"name":"microflora","size":"0","children":[]},{"name":"plantlet","size":"0","children":[]},{"name":"non-flowering plant","size":"0","children":[]},{"name":"endemic","size":"0","children":[]}]}]}'''
    file = open("testfile.txt", "r")
    stri = file.readline()
    file.close()
    info = {'content': stri}
    return template("CodeMirror.htm", info)

@route('/CodeMirror_files/<filepath:path>')
def server_static(filepath):
    return static_file(filepath, root='CodeMirror_files')


	
run(host='localhost', port=8080, debug=True)